uuid: 0055dd78-98c7-447f-a0d0-0d84123babf2
langcode: en
status: true
dependencies: {  }
id: seo_metadata
label: 'SEO & Metadata'
description: ''
nodes:
  -
    id: chat_input.1
    type: universalNode
    position:
      x: 80
      'y': 120
    data:
      label: 'Chat Input'
      config:
        nodeType: simple
        instanceTitle: ''
        instanceDescription: ''
      metadata:
        id: chat_input
        name: 'Chat Input'
        type: simple
        supportedTypes:
          - default
          - simple
          - square
        description: 'Chat input for playground workflows with optional conversation history'
        category: inputs
        icon: 'mdi:chat-plus-outline'
        color: '#10b981'
        plugin_version: 1.0.0
        enabled: true
        tags: {  }
        executor_plugin: 'flowdrop_node_processor:chat_input'
        inputs:
          -
            id: message
            name: Message
            type: input
            dataType: string
            required: false
            description: 'The chat message content (typically injected from playground)'
            defaultValue: ''
          -
            id: history
            name: 'Conversation History'
            type: input
            dataType: array
            required: false
            description: 'Optional conversation history for context-aware processing'
          -
            id: sessionId
            name: 'Session ID'
            type: input
            dataType: number
            required: false
            description: 'Playground session ID (for tracking)'
          -
            id: messageId
            name: 'Message ID'
            type: input
            dataType: number
            required: false
            description: 'Playground message ID (for tracking)'
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: message
            name: message
            type: output
            dataType: string
            required: false
            description: 'The chat message content'
          -
            id: history
            name: history
            type: output
            dataType: array
            required: false
            description: 'Conversation history (if included)'
          -
            id: sessionId
            name: sessionId
            type: output
            dataType: number
            required: false
            description: 'Playground session ID'
          -
            id: messageId
            name: messageId
            type: output
            dataType: number
            required: false
            description: 'Playground message ID'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config:
          type: simple
        configSchema:
          type: object
          properties:
            nodeType:
              type: string
              title: 'Visual Type'
              description: 'Select the visual appearance for this node instance.'
              enum:
                - default
                - simple
                - square
              default: simple
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: chat_input.1
      extensions:
        ui:
          hideUnconnectedHandles: true
    deletable: true
    measured:
      width: 288
      height: 103
    selected: false
    dragging: false
  -
    id: flowdrop_ai_provider_chat_model.1
    type: universalNode
    position:
      x: 570
      'y': -90
    data:
      label: 'Chat Model (Drupal AI)'
      config:
        model: mistral-large-latest
        temperature: 0.7
        maxTokens: 1000
        systemPrompt: |
          Use the user message to generate content for an article. Create a funny title. Body should be 3 paragraphs with proper intro content and conclusion.

          Create a valid json string that could represent the values for a Drupal Article Node. 

          It is critically important the the output must be valid json in the following format

          {
            "title": "{{ title }}",
            "body": 
            {
              "value": "{{ body }}",
              "summary": "{{ summary }}",
              "format": "basic_html"
            }
            
          }

          ---

          It is critically important it must have title and body field.

          Example:

          {
            "title": "A cool article about watermelons",
            "body": 
            {
              "value": "Watermelons are great. they are awesome.\nThey are such an awesome fruit that i eat them every day.",
              "summary": "Watermelons are great. they are awesome.",
              "format": "basic_html"
            }  
          }
        instanceTitle: ''
        instanceDescription: ''
      metadata:
        id: flowdrop_ai_provider_chat_model
        name: 'Chat Model (Drupal AI)'
        type: default
        supportedTypes:
          - default
        description: 'AI chat model for conversation and text generation'
        category: ai
        icon: 'mdi:robot'
        color: '#a855f7'
        plugin_version: 1.0.0
        enabled: true
        tags:
          - model
          - ai
        executor_plugin: 'flowdrop_ai_provider:chat_model'
        inputs:
          -
            id: message
            name: Message
            type: input
            dataType: string
            required: false
            description: 'Message to send to AI model'
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: response
            name: response
            type: output
            dataType: string
            required: false
            description: 'The AI model response'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config:
          model: mistral-large-latest
          temperature: 0.7
          maxTokens: 1000
          systemPrompt: ''
        configSchema:
          type: object
          properties:
            model:
              type: string
              title: Model
              description: 'AI model to use for chat'
              default: mistral-large-latest
              enum:
                - chat
                - claude-4-5-sonnet
                - claude-4-5-opus
                - mistral-large-latest
                - mistral-medium-latest
              options:
                -
                  value: chat
                  label: 'chat (amazeeio)'
                -
                  value: claude-4-5-sonnet
                  label: 'claude-4-5-sonnet (amazeeio)'
                -
                  value: claude-4-5-opus
                  label: 'claude-4-5-opus (amazeeio)'
                -
                  value: mistral-large-latest
                  label: 'mistral-large-latest (amazeeio)'
                -
                  value: mistral-medium-latest
                  label: 'mistral-medium-latest (amazeeio)'
            temperature:
              type: number
              title: Temperature
              description: 'Model temperature (0.0 to 2.0)'
              default: 0.7
              minimum: 0
              maximum: 2
              step: '0.01'
              format: range
            maxTokens:
              type: integer
              title: 'Max Tokens'
              description: 'Maximum tokens to generate'
              default: 1000
              minimum: 1
              maximum: 4000
            systemPrompt:
              type: string
              title: 'System Prompt'
              description: 'System prompt to set the AI behavior and context'
              default: ''
              format: multiline
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: flowdrop_ai_provider_chat_model.1
      extensions:
        ui:
          hideUnconnectedHandles: false
    deletable: true
    measured:
      width: 288
      height: 440
    selected: false
    dragging: true
  -
    id: json_to_data.1
    type: universalNode
    position:
      x: 1070
      'y': -140
    data:
      label: 'JSON to Data'
      config: {  }
      metadata:
        id: json_to_data
        name: 'JSON to Data'
        type: default
        supportedTypes:
          - default
        description: 'Convert JSON string to structured data (array/object)'
        category: data
        icon: 'mdi:code-json'
        color: '#f97316'
        plugin_version: 1.0.0
        enabled: true
        tags: {  }
        executor_plugin: 'flowdrop_node_processor:json_to_data'
        inputs:
          -
            id: json
            name: 'JSON String'
            type: input
            dataType: string
            required: false
            description: 'The JSON string to decode into structured data'
            defaultValue: ''
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: data
            name: data
            type: output
            dataType: mixed
            required: false
            description: 'The decoded structured data (array/object)'
          -
            id: success
            name: success
            type: output
            dataType: boolean
            required: false
            description: 'Whether the conversion was successful'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config: {  }
        configSchema:
          type: object
          properties:
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: json_to_data.1
    deletable: true
    measured:
      width: 288
      height: 515
    selected: false
    dragging: false
  -
    id: chat_output.1
    type: universalNode
    position:
      x: 1980
      'y': 110
    data:
      label: 'Chat Output'
      config:
        format: markdown
        showTimestamp: false
        nodeType: simple
        instanceTitle: ''
        instanceDescription: ''
      metadata:
        id: chat_output
        name: 'Chat Output'
        type: simple
        supportedTypes:
          - default
          - simple
          - square
        description: 'Output chat messages in various formats'
        category: processing
        icon: 'mdi:chat-alert-outline'
        color: '#14b8a6'
        plugin_version: 1.0.0
        enabled: true
        tags: {  }
        executor_plugin: 'flowdrop_node_processor:chat_output'
        inputs:
          -
            id: message
            name: Message
            type: input
            dataType: string
            required: false
            description: 'Default chat message'
            defaultValue: ''
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: message
            name: message
            type: output
            dataType: string
            required: false
            description: 'The chat message content'
          -
            id: format
            name: format
            type: output
            dataType: string
            required: false
            description: 'The message format (text, markdown, html)'
          -
            id: timestamp
            name: timestamp
            type: output
            dataType: number
            required: false
            description: 'The message timestamp (if showTimestamp is enabled)'
          -
            id: metadata
            name: metadata
            type: output
            dataType: json
            required: false
            description: 'Additional metadata for message linking'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config:
          format: text
          showTimestamp: false
          type: simple
        configSchema:
          type: object
          properties:
            format:
              type: string
              title: Format
              description: 'Message format (text, markdown, html)'
              default: text
            showTimestamp:
              type: boolean
              title: 'Show Timestamp'
              description: 'Whether to include timestamp'
              default: false
            nodeType:
              type: string
              title: 'Visual Type'
              description: 'Select the visual appearance for this node instance.'
              enum:
                - default
                - simple
                - square
              default: simple
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: chat_output.1
      extensions:
        ui:
          hideUnconnectedHandles: true
    deletable: true
    measured:
      width: 288
      height: 88
    selected: false
    dragging: true
  -
    id: prompt_template.1
    type: universalNode
    position:
      x: 1540
      'y': 110
    data:
      label: 'Prompt Template'
      config:
        template: |+
          Article Draft

          # {{ title }}

          {{ field_body.value }}

          {{ field_metatags.value }}

        nodeType: simple
        instanceTitle: ''
        instanceDescription: ''
      metadata:
        id: prompt_template
        name: 'Prompt Template'
        type: simple
        supportedTypes:
          - default
          - simple
        description: 'Create prompts using templates with variable substitution'
        category: prompts
        icon: 'mdi:code-block-braces'
        color: '#f59e0b'
        plugin_version: 1.0.0
        enabled: true
        tags: {  }
        executor_plugin: 'flowdrop_node_processor:prompt_template'
        inputs:
          -
            id: variables
            name: Variables
            type: input
            dataType: json
            required: false
            description: 'Default variables for the template'
            defaultValue: {  }
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: prompt
            name: prompt
            type: output
            dataType: string
            required: false
            description: 'The generated prompt'
          -
            id: template
            name: template
            type: output
            dataType: string
            required: false
            description: 'The original template'
          -
            id: variables
            name: variables
            type: output
            dataType: json
            required: false
            description: 'The variables used'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config:
          template: ''
          type: simple
        configSchema:
          type: object
          properties:
            template:
              type: string
              title: Template
              description: 'The prompt template with variables in {{variable}} format'
              default: ''
              format: template
            nodeType:
              type: string
              title: 'Visual Type'
              description: 'Select the visual appearance for this node instance.'
              enum:
                - default
                - simple
              default: simple
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: prompt_template.1
      extensions:
        ui:
          hideUnconnectedHandles: true
    deletable: true
    measured:
      width: 288
      height: 103
    selected: false
    dragging: false
  -
    id: confirmation.1
    type: universalNode
    position:
      x: 2550
      'y': -210
    data:
      label: Confirmation
      config:
        message: 'Do you want to create the article?'
        confirm_label: 'Yes'
        cancel_label: 'No'
        branches:
          -
            name: 'True'
            value: true
          -
            name: 'False'
            value: true
        nodeType: default
        instanceTitle: ''
        instanceDescription: ''
        branches-0-name: 'True'
        branches-0-value: true
        branches-1-name: 'False'
        branches-1-value: true
      metadata:
        id: confirmation
        name: Confirmation
        type: default
        supportedTypes:
          - default
          - simple
          - gateway
        description: 'Pauses workflow for user confirmation (Yes/No)'
        category: human_in_loop
        icon: 'mdi:help-circle-outline'
        color: '#f59e0b'
        plugin_version: 1.0.0
        enabled: true
        tags:
          - human-in-loop
          - interrupt
          - confirmation
        executor_plugin: 'flowdrop_interrupt:confirmation'
        inputs:
          -
            id: message
            name: 'Confirmation Message'
            type: input
            dataType: string
            required: false
            description: 'The message to display to the user'
            defaultValue: 'Do you want to continue?'
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: confirmed
            name: confirmed
            type: output
            dataType: boolean
            required: false
            description: 'Whether the user confirmed (true) or cancelled (false)'
          -
            id: response_time
            name: response_time
            type: output
            dataType: number
            required: false
            description: 'Unix timestamp when the user responded'
          -
            id: user_id
            name: user_id
            type: output
            dataType: number
            required: false
            description: 'ID of the user who responded (null if anonymous)'
          -
            id: interrupt_id
            name: interrupt_id
            type: output
            dataType: string
            required: false
            description: 'UUID of the interrupt that was resolved'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config:
          message: 'Do you want to continue?'
          confirm_label: 'Yes'
          cancel_label: 'No'
          branches:
            -
              name: 'True'
              value: true
            -
              name: 'False'
              value: false
          type: default
        configSchema:
          type: object
          properties:
            message:
              type: string
              title: 'Confirmation Message'
              description: 'The message to display to the user'
              default: 'Do you want to continue?'
              format: multiline
            confirm_label:
              type: string
              title: 'Confirm Button Label'
              description: 'Label for the confirmation button'
              default: 'Yes'
            cancel_label:
              type: string
              title: 'Cancel Button Label'
              description: 'Label for the cancel button'
              default: 'No'
            branches:
              type: array
              description: 'The available branches for gateway visual mode'
              readOnly: true
              default:
                -
                  name: 'True'
                  value: true
                -
                  name: 'False'
                  value: false
              items:
                type: object
                properties:
                  name:
                    type: string
                    description: 'The name of the branch'
                  value:
                    type: boolean
                    description: 'The value of the branch'
            nodeType:
              type: string
              title: 'Visual Type'
              description: 'Select the visual appearance for this node instance.'
              enum:
                - default
                - simple
                - gateway
              default: default
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: confirmation.1
      extensions:
        ui:
          hideUnconnectedHandles: false
    deletable: true
    measured:
      width: 288
      height: 665
    selected: true
    dragging: true
  -
    id: entity_save.1
    type: universalNode
    position:
      x: 3210
      'y': -180
    data:
      label: 'Entity Save'
      config:
        entity_type: node
        bundle: ''
        values: {  }
        allowed_fields: {  }
      metadata:
        id: entity_save
        name: 'Entity Save'
        type: default
        supportedTypes:
          - default
        description: 'Create or update Drupal entities'
        category: data
        icon: 'mdi:content-save'
        color: '#f97316'
        plugin_version: 1.0.0
        enabled: true
        tags: {  }
        executor_plugin: 'flowdrop_node_processor:entity_save'
        inputs:
          -
            id: entity_type
            name: 'Entity Type'
            type: input
            dataType: string
            required: false
            description: 'The entity type to create/update (e.g., node, user, taxonomy_term)'
            defaultValue: node
          -
            id: bundle
            name: Bundle
            type: input
            dataType: string
            required: false
            description: 'The bundle/content type for the entity (required for new entities with bundles)'
            defaultValue: ''
          -
            id: entity_id
            name: 'Entity ID'
            type: input
            dataType: string
            required: false
            description: 'The ID of an existing entity to update (leave empty to create new)'
            defaultValue: ''
          -
            id: values
            name: 'Field Values'
            type: input
            dataType: json
            required: false
            description: 'The field values to set on the entity as key-value pairs'
            defaultValue: {  }
          -
            id: trigger
            name: Trigger
            type: input
            dataType: trigger
            required: false
            description: ''
        outputs:
          -
            id: entity_id
            name: entity_id
            type: output
            dataType: string
            required: false
            description: 'The ID of the saved entity'
          -
            id: entity_type
            name: entity_type
            type: output
            dataType: string
            required: false
            description: 'The entity type'
          -
            id: bundle
            name: bundle
            type: output
            dataType: string
            required: false
            description: 'The entity bundle (if applicable)'
          -
            id: is_new
            name: is_new
            type: output
            dataType: boolean
            required: false
            description: 'Whether a new entity was created (true) or existing was updated (false)'
          -
            id: label
            name: label
            type: output
            dataType: string
            required: false
            description: 'The label/title of the entity'
          -
            id: uuid
            name: uuid
            type: output
            dataType: string
            required: false
            description: 'The UUID of the entity'
          -
            id: created
            name: created
            type: output
            dataType: number
            required: false
            description: 'The creation timestamp (if available)'
          -
            id: changed
            name: changed
            type: output
            dataType: number
            required: false
            description: 'The last changed timestamp (if available)'
          -
            id: skipped_fields
            name: skipped_fields
            type: output
            dataType: array
            required: false
            description: 'List of field names that were skipped due to allowed_fields restriction'
          -
            id: entity
            name: entity
            type: output
            dataType: json
            required: false
            description: 'Full serialized entity data in the same format as Entity Trigger output'
          -
            id: trigger
            name: Trigger
            type: output
            dataType: trigger
            required: false
            description: 'Emitted when this node completes execution'
        config:
          entity_type: node
          bundle: ''
          values: {  }
          allowed_fields: {  }
        configSchema:
          type: object
          properties:
            entity_type:
              type: string
              title: 'Entity Type'
              description: 'The entity type to create/update (e.g., node, user, taxonomy_term)'
              default: node
            bundle:
              type: string
              title: Bundle
              description: 'The bundle/content type for the entity (required for new entities with bundles)'
              default: ''
            values:
              type: object
              format: json
              title: 'Field Values'
              description: 'The field values to set on the entity as key-value pairs'
              default: {  }
            allowed_fields:
              type: array
              title: 'Allowed Fields'
              description: 'List of field names that are allowed to be updated. Leave empty to allow all fields.'
              default: {  }
              items:
                type: string
            instanceTitle:
              type: string
              title: Title
              description: 'Override the default node title for this instance.'
              x-display-order: -2
            instanceDescription:
              type: string
              title: Description
              description: 'Override the default description for this instance.'
              format: multiline
              x-display-order: -1
          required: {  }
      nodeId: entity_save.1
    deletable: true
    measured:
      width: 288
      height: 1340
    selected: false
    dragging: false
edges:
  -
    id: xy-edge__chat_input.1chat_input.1-output-message-flowdrop_ai_provider_chat_model.1flowdrop_ai_provider_chat_model.1-input-message
    source: chat_input.1
    target: flowdrop_ai_provider_chat_model.1
    data:
      targetNodeType: universalNode
      targetCategory: ai
      metadata:
        edgeType: data
        sourcePortDataType: string
    sourceHandle: chat_input.1-output-message
    targetHandle: flowdrop_ai_provider_chat_model.1-input-message
    style: 'stroke: var(--flowdrop-edge-data-color);'
    markerEnd:
      type: arrowclosed
      width: 16
      height: 16
      color: '#9ca3af'
    class: flowdrop--edge--data
  -
    id: xy-edge__flowdrop_ai_provider_chat_model.1flowdrop_ai_provider_chat_model.1-output-response-json_to_data.1json_to_data.1-input-json
    source: flowdrop_ai_provider_chat_model.1
    target: json_to_data.1
    data:
      targetNodeType: universalNode
      targetCategory: data
      metadata:
        edgeType: data
        sourcePortDataType: string
    sourceHandle: flowdrop_ai_provider_chat_model.1-output-response
    targetHandle: json_to_data.1-input-json
    style: 'stroke: var(--flowdrop-edge-data-color);'
    markerEnd:
      type: arrowclosed
      width: 16
      height: 16
      color: '#9ca3af'
    class: flowdrop--edge--data
  -
    id: xy-edge__json_to_data.1json_to_data.1-output-data-prompt_template.1prompt_template.1-input-variables
    source: json_to_data.1
    target: prompt_template.1
    data:
      targetNodeType: universalNode
      targetCategory: prompts
      metadata:
        edgeType: data
        sourcePortDataType: mixed
    sourceHandle: json_to_data.1-output-data
    targetHandle: prompt_template.1-input-variables
    style: 'stroke: var(--flowdrop-edge-data-color);'
    markerEnd:
      type: arrowclosed
      width: 16
      height: 16
      color: '#9ca3af'
    class: flowdrop--edge--data
  -
    id: xy-edge__prompt_template.1prompt_template.1-output-prompt-chat_output.1chat_output.1-input-message
    source: prompt_template.1
    target: chat_output.1
    data:
      targetNodeType: universalNode
      targetCategory: processing
      metadata:
        edgeType: data
        sourcePortDataType: string
    sourceHandle: prompt_template.1-output-prompt
    targetHandle: chat_output.1-input-message
    style: 'stroke: var(--flowdrop-edge-data-color);'
    markerEnd:
      type: arrowclosed
      width: 16
      height: 16
      color: '#9ca3af'
    class: flowdrop--edge--data
  -
    id: xy-edge__chat_output.1chat_output.1-output-trigger-confirmation.1confirmation.1-input-trigger
    source: chat_output.1
    target: confirmation.1
    data:
      targetNodeType: universalNode
      targetCategory: human_in_loop
      metadata:
        edgeType: trigger
        sourcePortDataType: trigger
    sourceHandle: chat_output.1-output-trigger
    targetHandle: confirmation.1-input-trigger
    style: 'stroke: var(--flowdrop-edge-trigger-color); stroke-width: var(--flowdrop-edge-trigger-width);'
    markerEnd:
      type: arrowclosed
      width: 16
      height: 16
      color: '#111827'
    class: flowdrop--edge--trigger
metadata:
  version: 1.0.0
  createdAt: '2026-01-27T15:28:49.762Z'
  updatedAt: '2026-01-27T15:40:45.276Z'
created: 1769523947
changed: 1769528445
uid: 0
